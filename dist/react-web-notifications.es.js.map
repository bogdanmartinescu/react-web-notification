{"version":3,"file":"react-web-notifications.es.js","sources":["../src/react-web-notifications.tsx"],"sourcesContent":["import * as React from 'react';\n\n\"use strict\";\n\ninterface Props {\n    title: string;\n    icon?: string;\n    body?: string;  \n    timeout?: number;\n    onClickFn?: () => any;\n}\n\nconst WebNotification: React.FC<Props> = ({ title, icon, body, timeout, onClickFn }) => {\n    let notification: any = null;\n\n    let options: any = {\n        title,\n        body,\n        timeout\n    };\n\n    React.useEffect(() => {\n        if (window.Notification) {\n            window.Notification.requestPermission((result) => {\n                if (result !== 'granted') return;\n                show();\n            });\n        }\n    }, [title]);\n\n    const show = () => {\n        if(!title) return;\n\n        options.icon = icon;\n        options.body = body;\n        options.timeout = timeout;\n\n        if(!notification) {\n            notification = new window.Notification(title, options);\n\n            if (onClickFn) {\n                notification.addEventListener('click', onClickFn, false);\n            }\n\n            window.setTimeout(() => {\n                notification.close();\n            }, timeout || 5000);\n        }\n    };\n\n    return null;\n}\n\nexport default WebNotification;"],"names":[],"mappings":";;IAYM,eAAe,GAAoB,UAAC,EAAyC;QAAvC,KAAK,WAAA,EAAE,IAAI,UAAA,EAAE,IAAI,UAAA,EAAE,OAAO,aAAA,EAAE,SAAS,eAAA;IAC7E,IAAI,YAAY,GAAQ,IAAI,CAAC;IAE7B,IAAI,OAAO,GAAQ;QACf,KAAK,OAAA;QACL,IAAI,MAAA;QACJ,OAAO,SAAA;KACV,CAAC;IAEF,KAAK,CAAC,SAAS,CAAC;QACZ,IAAI,MAAM,CAAC,YAAY,EAAE;YACrB,MAAM,CAAC,YAAY,CAAC,iBAAiB,CAAC,UAAC,MAAM;gBACzC,IAAI,MAAM,KAAK,SAAS;oBAAE,OAAO;gBACjC,IAAI,EAAE,CAAC;aACV,CAAC,CAAC;SACN;KACJ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,IAAM,IAAI,GAAG;QACT,IAAG,CAAC,KAAK;YAAE,OAAO;QAElB,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QACpB,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QACpB,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;QAE1B,IAAG,CAAC,YAAY,EAAE;YACd,YAAY,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YAEvD,IAAI,SAAS,EAAE;gBACX,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;aAC5D;YAED,MAAM,CAAC,UAAU,CAAC;gBACd,YAAY,CAAC,KAAK,EAAE,CAAC;aACxB,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC;SACvB;KACJ,CAAC;IAEF,OAAO,IAAI,CAAC;AAChB;;;;"}